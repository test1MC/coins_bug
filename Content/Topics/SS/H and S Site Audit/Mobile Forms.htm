<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-gb">
    <head><title></title>
    </head>
    <body>
        <h1>
            <MadCap:concept term="Topics" /><a name="_Toc454289654"></a>Mobile Forms </h1>
        <p class="Body" style="page-break-after: avoid;">New fields have been added to Mobile Form Maintenance.</p>
        <MadCap:dropDown class="screenshot">
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Mobile Forms Set Up</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p class="screenshot">
                    <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/Mobile Forms Set Up.png" style="width: 602px; height: 142px;" class="FullWidth" MadCap:conditions="COINS.Pre-v1105" />
                    <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/SCR_SS_Mobile_Forms_Maintenance.png" class="FullWidth" />
                </p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <div class="FieldTable">
            <div class="ListHead">
                <div class="ColHead">Field</div>
                <div class="ColHead">Description</div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">
                    <p class="Body">Root Code</p>
                </div>
                <div class="FieldDef">
                    <p>When adding a new mobile form, you can choose whether to have version control, by entering a Root Code rather than an actual code.&#160; When a root code is used the actual code is generated by adding the version number to the root.&#160; The version number starts at 1 and each time you add a new form with the same root code the version number will increase by 1.&#160; If you copy the form and leave the root code the same it will create a new version of the form.&#160; If you copy and amend the root it will create version 1 of a new form.</p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">
                    <p>Type</p>
                </div>
                <div class="FieldDef">
                    <p>You need to specify the type of the Mobile Form. Currently this can be either FM or H&amp;S Audit.&#160;</p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">
                    <p>Live</p>
                </div>
                <div class="FieldDef">
                    <p>If a form is flagged as H&amp;S Audit, when you <MadCap:variable name="Variables.tick" /> the <span class="Field">Live</span> box on the form, menu entries are created on the H&amp;S Audit menu for the audit workbench and report.</p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">Calculation</div>
                <div class="FieldDef">
                    <p>The calculation is run when the form is submitted. It can be used to set scores or update fields on the form.&#160; There is an array of score fields on the submitted form that you can store scores in, and when used the score appears on the audit workbench. </p>
                    <MadCap:dropDown class="screenshot">
                        <MadCap:dropDownHead>
                            <MadCap:dropDownHotspot>Mobile Form Calculations</MadCap:dropDownHotspot>
                        </MadCap:dropDownHead>
                        <MadCap:dropDownBody>
                            <p class="screenshot">
                                <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/Mobile Forms Set Up_1.png" style="width: 602px; height: 271px;" class="FullWidth" MadCap:conditions="COINS.Pre-v1105" />
                                <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/SCR_SS_Mobile_Form_Calculations_11.05.png" class="FullWidth" />
                            </p>
                        </MadCap:dropDownBody>
                    </MadCap:dropDown>
                    <p>To assign a score you assign a variable smk_score__<i>n</i> where <i>n</i> is the array index 1 to 9.</p>
                    <p>Each field on the form that has a field ID assigned to it will also populate a variable in the calculation, and some new functions have been added to make getting score from these variables easy.&#160;</p>
                    <p>In the example below the form has a number of criteria and each is given an operational and admin score.&#160; The operational scores all have field IDs ending OP, and the admin ending AD, so score 1 is the total points for operational, 2 the admin total.&#160; Scores 3 &amp; 4 are the percentage – the scores are out of 4 so 25 x average is the same as 100 x average / 4.&#160; The varaverage function ignores fields with a blank entry (not applicable). </p>
                    <p>smk_score__1 = vartotal('*OP');<br />smk_score__2 = vartotal('*AD');<br />smk_score__3 = 25 * varaverage('*OP');<br />smk_score__4 = 25 * varaverage('*AD');<br />smk_score__5 = if(smk_score__3,GE,90,1,0) + if(smk_score__3,GE,80,1,0) + if(smk_score__3,GE,70,1,0) + 1;<br />$cRANK = entry$(smk_score__5,'FAIL,BRONZE,SILVER,GOLD',',');<br />$RW_smk_fid^RANK = cRank;</p>
                    <p>In the last three lines of the calculation above we set a field on the form based on the operational percentage; if over 90% the value is “GOLD”, if over 80 “SILVER”, and so on.&#160; </p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">
                    <p>Email Circulation List</p>
                </div>
                <div class="FieldDef">
                    <p>When the document is set to print on submission, you can specify who to email the PDF to.&#160; This can include explicit email addresses, user IDs, and roles (defined in Workflow). You can use data from the form, so <code>SM|CONTRACT|{job_num},{su-userid} </code>would email site manager of the site audited and the person who perform the audit.</p>
                    <p>The completion calculation can also add to the circulation list by assigning a character variable smf_compcirc.</p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">Alternative Update Function</div>
                <div class="FieldDef">
                    <p>This allows you to use <span class="Function">Page Designer</span> to create your own version of the form if you want something different to what is automatically generated.&#160; On the KCO form we have created a page KCO001 to lay out the form.</p>
                    <MadCap:dropDown class="screenshot">
                        <MadCap:dropDownHead>
                            <MadCap:dropDownHotspot>Alternative Update Function Example</MadCap:dropDownHotspot>
                        </MadCap:dropDownHead>
                        <MadCap:dropDownBody>
                            <p class="screenshot">
                                <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/Alternative Update Function.png" style="visibility: visible;mso-wrap-style: square;width: 318px;height: 37px;" />
                            </p>
                        </MadCap:dropDownBody>
                    </MadCap:dropDown>
                    <p>When defining your own page there is a certain amount of repetition – you need to specify the labels both on the page and on the form for example – as it is not being done automatically, but it does give great flexibility and control.</p>
                    <MadCap:dropDown class="screenshot">
                        <MadCap:dropDownHead>
                            <MadCap:dropDownHotspot>Fields on Alternative Update Form</MadCap:dropDownHotspot>
                        </MadCap:dropDownHead>
                        <MadCap:dropDownBody>
                            <p class="screenshot">
                                <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/Alternative Update Function_1.png" style="width: 602px; height: 137px;" class="FullWidth" MadCap:conditions="COINS.Pre-v1105" />
                                <img src="../../../Resources/Images_S-U/SS/23515 HandS Site Audit/Alternative_Update_Function_1_11.05.png" class="FullWidth" />
                            </p>
                        </MadCap:dropDownBody>
                    </MadCap:dropDown>
                    <p>The RW_smk_field^ with a parameter of a pipe separated list of the section, element and field sequence numbers is used for values.&#160; You can use data type specifics by adding a suffix – e.g. RW_smk_fieldDE^ for decimal.&#160; Other suffix options are:&#160;DA for date, IN for integer and LO for logical.</p>
                    <p>There is an optional 4th entry to the parameter which can be sme_text for the field comments or sme_xlist for the checklist.</p>
                    <p>There is a similar RW_smk_workflow^ for workflows.</p>
                </div>
            </div>
            <div class="FieldBlock">
                <div class="FieldLabel">Generated Form Label <span style="font-weight: normal;">and</span> Column Spans</div>
                <div class="FieldDef">
                    <p>When using the generated form these fields allow you to control the distribution of the page in OA (for example, to have wider labels and narrower input columns). The numbers in the two fields should add up to 8, to match the column spans used in the header.</p>
                </div>
            </div>
        </div>
    </body>
</html>