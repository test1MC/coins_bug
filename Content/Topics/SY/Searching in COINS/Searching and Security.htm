<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="4" MadCap:lastHeight="769" MadCap:lastWidth="600">
    <head>
    </head>
    <body>
        <h1 MadCap:autonum="1">
            <MadCap:concept term="Topics" />Searching and Security</h1>
        <p class="Body">If you allow users to use Global Search (or the Extended Search Capability), you need to consider the security of data, as you are potentially opening a door to data that otherwise might be hidden behind functional security.</p>
        <p class="Body">For example, without Global Search, if a user could not run <span class="Function"><MadCap:variable name="Variables.jc contract" style="text-transform: capitalize;" /> Maintenance</span>, they could not practically get to the <MadCap:variable name="Variables.jc contract" style="text-transform: capitalize;" /> Summary screen; with Global Search, they could do so with a <MadCap:variable name="Variables.jc contract" /> search.</p>
        <h2 MadCap:autonum="1.1">Security on Search Configuration</h2>
        <p class="Body">The configuration of each search entity has a link function.  This is the function the user will be taken to if they select the item in the search. </p>
        <p class="screenshot">
            <img src="../../../Images/Global Search Configuration Link Field.png" class="FullWidth" />
        </p>
        <p class="Body"> If the user does not have access to this function then the category/entity will not be available to them and will be removed from the list in the top right corner of the search results.  <span class="InternalComment">Just checking this I find we also apply ci_company view security (kco level) too so ci_company would disappear if you were in a company which you did not have view access.</span></p>
        <h2 MadCap:autonum="1.2">
            <MadCap:conditionalText MadCap:conditions="COINS.ScreenOnly">Search Configuration - </MadCap:conditionalText>Security RSP</h2>
        <p class="Body">The security RSP&#160;on the search configuration allows a security rule to be applied to the returned results. If you specify the RSP, the security that is normally applied by <MadCap:variable name="General.ProductName" /> in the RSP is applied to the results.  The getSecurityFilter() method is called in the RSP and this returns a query snippet. For example,in the case of  %JC_JOBn, job-rsp.p is used and <MadCap:variable name="Variables.jc contract" /> security is applied. </p>
        <p class="Body">So the search returns a set of records, and the RSP security is applied; if the security returns false then:</p>
        <ul>
            <li> With Global Search, the record is shown but the link to the detail page is suppressed.</li>
            <li>With Extended Search, the record is not shown.</li>
        </ul>
        <h2 MadCap:autonum="1.3">
            <MadCap:conditionalText MadCap:conditions="COINS.ScreenOnly">Search Configuration - </MadCap:conditionalText>Additional Security Fields</h2>
        <p class="Body">If you have Extended Search Capability configured, the <span class="Field">Security Method</span>, <span class="Field">Security Table</span> and <span class="Field">Security Key Fields</span> fields allow you to apply a custom security method, or the security of another table, to the records returned. For example, po_line uses security on po_hdr (passing in the key fields).  This means you can prevent access to po_line records (if returned by the search) based on whether the po_hdr record is something you have access to.  If the method is blank the “checkUserSecurity” is used.</p>
    </body>
</html>