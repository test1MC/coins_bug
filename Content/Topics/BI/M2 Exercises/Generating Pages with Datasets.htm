<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-gb" style="mc-master-page: url('../../../Resources/MasterPages/OtherTopics.flmsp');">
    <head>
        <link href="../../../Resources/TableStyles/COINS.css" rel="stylesheet" MadCap:stylesheetType="table" /><title></title>
        <link href="../../../Resources/Stylesheets/OnlineHelp.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>
            <MadCap:concept term="Topics" />Exercise 2 - Generating Pages from a Data Set</h1>
        <h2>Create a Browse Page from a Data Set</h2>
        <p>Create a New Data Set called xxM2DS5 with simple contract details (replace xx with your initials).</p>
        <p>QueryFOR EACH jc_job WHERE jc_job.kco = {kco}</p>
        <p>Table NameContract</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages.png" style="visibility: visible;mso-wrap-style: square;width: 535px;height: 245px;border-top-style: solid;border-top-width: 1pt;border-bottom-style: solid;border-bottom-width: 1pt;border-left-style: solid;border-left-width: 1pt;border-right-style: solid;border-right-width: 1pt;" />
        </p>
        <p>Add fieldsAdd fields to the data set and name the field names for the relevant sy_temp fields, where:</p>
        <p>&#160;</p>
        <p>smp_key1 is the key field of the data set and</p>
        <p>smp_cha[20] is used for character fields,</p>
        <p>smp_dat[20] = Date fields,</p>
        <p>smp_int[20] = Integer fields,</p>
        <p>smp_dec[20] = Decimal fields and</p>
        <p>smp_log[20] = Logical fields.</p>
        <p>On the Fields Tab, click Add&#160;&#160; and the following fields:</p>
        <p>&#160;</p>
        <table style="mc-table-style: url('../../../Resources/TableStyles/COINS.css');" class="TableStyle-COINS" cellspacing="0">
            <colgroup>
                <col class="TableStyle-COINS-Column-Column1" />
                <col class="TableStyle-COINS-Column-Column1" />
                <col class="TableStyle-COINS-Column-Column1" />
                <col class="TableStyle-COINS-Column-Column1" />
                <col class="TableStyle-COINS-Column-Column1" />
            </colgroup>
            <thead>
                <tr class="TableStyle-COINS-Head-Header1">
                    <th class="TableStyle-COINS-HeadE-Column1-Header1">
                        <p>Field</p>
                    </th>
                    <th class="TableStyle-COINS-HeadE-Column1-Header1">
                        <p>Label</p>
                    </th>
                    <th class="TableStyle-COINS-HeadE-Column1-Header1">
                        <p>Data Type</p>
                    </th>
                    <th class="TableStyle-COINS-HeadE-Column1-Header1">
                        <p>Format</p>
                    </th>
                    <th class="TableStyle-COINS-HeadD-Column1-Header1">
                        <p>Source </p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_key1</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Contract</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Character</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>x(8)</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.job_num</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_cha__1</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Name</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Character</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>x(8)</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.job_name</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_cha__2</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Location</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Character</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>x(8)</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.jcl_desc</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_dat__1</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Date</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Date</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>99/99/99</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.job_condate</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_cha__3</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Status</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Character</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>x(8)</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.job_active</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_dec__1</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Costs</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Decimal</p>
                    </td>
                    <td class="TableStyle-COINS-BodyE-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>-&gt;&gt;&gt;,&gt;&gt;&gt;,&gt;&gt;9.99</p>
                    </td>
                    <td class="TableStyle-COINS-BodyD-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.RO_contractcosts^TD</p>
                    </td>
                </tr>
                <tr class="TableStyle-COINS-Body-Body1">
                    <td class="TableStyle-COINS-BodyB-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>smp_dec__2</p>
                    </td>
                    <td class="TableStyle-COINS-BodyB-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Revenue</p>
                    </td>
                    <td class="TableStyle-COINS-BodyB-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>Decimal</p>
                    </td>
                    <td class="TableStyle-COINS-BodyB-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>-&gt;&gt;&gt;,&gt;&gt;&gt;,&gt;&gt;9.99</p>
                    </td>
                    <td class="TableStyle-COINS-BodyA-Column1-Body1" style="text-align: justify;font-size: 8pt;">
                        <p>jc_job.RO_ContractRevenue^TD</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>&#160;</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_1.png" style="visibility: visible;mso-wrap-style: square;width: 554px;height: 203px;border-top-style: solid;border-top-width: 1pt;border-bottom-style: solid;border-bottom-width: 1pt;border-left-style: solid;border-left-width: 1pt;border-right-style: solid;border-right-width: 1pt;" />
        </p>
        <h2>Add New Functions for the Browse Page</h2>
        <p>Step 1:</p>
        <p>Create a new function and add this to a test menu under the Development Workspace on the OA Reporting and BI Menu.</p>
        <p>Function Code -Initials + Exercise No.e.g NLM2Exercise2<br />Function Name -Description identifier.e.g. NL M2 Exercise 2<br />Function Type – Function<br />Function Module -&#160;&#160;&#160;&#160; Contract Status<br />Function Category -&#160; Browse<br />Function Context – Leave as defaulted from the Function Description.<br />Function Program - wou005</p>
        <p>Step 2:</p>
        <p>Create a Generate Function for the Page i.e. suffix G with the following parameters:</p>
        <p>Program:&#160; wougen<br />Parameters: prog=sygxxx&amp;DataSet=aaM2DS5&#160; (where aa = your initials).</p>
        <p>Note: There must be no spaces in a parameter string and for generate pages the program name is sygxxx, the x’s are not replacement characters as in previous exercises</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_2.png" style="visibility: visible;mso-wrap-style: square;width: 552px;height: 200px;border-top-style: solid;border-top-width: 1pt;border-bottom-style: solid;border-bottom-width: 1pt;border-left-style: solid;border-left-width: 1pt;border-right-style: solid;border-right-width: 1pt;" />
        </p>
        <h2>Create the Page</h2>
        <p>Add a New Page.&#160; The Query should refer to table sy_temp whilst the body table should refer to the body table of the data being returned</p>
        <p>Body Tablejc_job</p>
        <p>Body QueryFOR EACH sy_temp WHERE syl_procid = '{syl_procid}' AND mf_function = '{mf_function}' AND smp_txn = '{smp_txn}'</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_3.png" style="visibility: visible;mso-wrap-style: square;width: 549px;height: 262px;" />
        </p>
        <p>FormAdd a Body form</p>
        <p>FieldsAdd Dataset fields to the Body form</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_4.png" style="visibility: visible;mso-wrap-style: square;width: 549px;height: 238px;" />
        </p>
        <p>&#160;</p>
        <h2>Running the Function.</h2>
        <p>If you run the main function, the screen will not contain any records.</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_5.png" style="visibility: visible;mso-wrap-style: square;width: 547px;height: 233px;border-top-style: solid;border-top-width: 1pt;border-bottom-style: solid;border-bottom-width: 1pt;border-left-style: solid;border-left-width: 1pt;border-right-style: solid;border-right-width: 1pt;" />
        </p>
        <p>Use the Regenerate button on the Page to generate data&#160;</p>
        <p>
            <img src="../../../Resources/Images_A-C/BI/BI M2 Exercises/Exercise 2 Generating Pages_6.png" style="visibility: visible;mso-wrap-style: square;width: 553px;height: 234px;" />
        </p>
        <p class="note">To avoid this additional step to see the data, instead of calling the main function call the G function, e.g. In this exercise call function xxM2Exercise 2G</p>
        <p>&#160;</p>
    </body>
</html>