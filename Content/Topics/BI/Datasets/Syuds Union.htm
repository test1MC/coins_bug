<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-us" MadCap:lastBlockDepth="5" MadCap:lastHeight="826" MadCap:lastWidth="624">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/OnlineHelp.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1 MadCap:autonum="1 ">
            <MadCap:concept term="OA Designer;Datasets;Topics" />Union</h1>
        <p>This method will combine rows from two or more dataset in to a new dataset.</p>
        <p>Suppose we have a dataset ttCost</p>
        <table>
            <tr>
                <td>
                    <p>Kco</p>
                </td>
                <td>
                    <p>Job_num</p>
                </td>
                <td>
                    <p>dCosts</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>100</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>150</p>
                </td>
            </tr>
        </table>
        <p>&#160;</p>
        <p>And a dataset ttRev</p>
        <table>
            <tr>
                <td>
                    <p>Kco</p>
                </td>
                <td>
                    <p>Job_num</p>
                </td>
                <td>
                    <p>dRev</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>200</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>250</p>
                </td>
            </tr>
        </table>
        <p>&#160;</p>
        <p>Then the resulting dataset (ttCostRev) might be</p>
        <table>
            <tr>
                <td>
                    <p>Kco</p>
                </td>
                <td>
                    <p>Job_num</p>
                </td>
                <td>
                    <p>dCosts</p>
                </td>
                <td>
                    <p>dRev</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>0</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>150</p>
                </td>
                <td>
                    <p>0</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>0</p>
                </td>
                <td>
                    <p>200</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>0</p>
                </td>
                <td>
                    <p>250</p>
                </td>
            </tr>
        </table>
        <p>&#160;</p>
        <p>This would be achieved with the following method calls.</p>
        <p>Method('syuds.unionFields','kco,job_num,dCosts,dRev');<br />Method('syuds.unionTable','cost','','kco,job_num,dCosts,');<br />Method('syuds.unionTable','rev','','kco,job_num,,dRev');<br />Method('syuds.unionExec','CostRev');</p>
        <p>unionFields specifies the fields in the returned dataset.</p>
        <p>unionTable specifies the source dataset to combine.&#160; The first parameter is the dataset name (without the tt prefix), the second parameter is a condition for the records to select from this source dataset, the third parameter is the fields to combine.</p>
        <p>unionExec specifies the output dataset and executes the union.</p>
        <p>If the fields specified are the same then the values are combined in to the same field</p>
        <p>e.g.</p>
        <p>Method('syuds.unionFields','kco,job_num,dValue');<br />Method('syuds.unionTable','cost','','kco,job_num,dCosts');<br />Method('syuds.unionTable','rev','','kco,job_num,dRev');<br />Method('syuds.unionExec','CostRev');</p>
        <p>Would produce the output dataset</p>
        <table>
            <tr>
                <td>
                    <p>Kco</p>
                </td>
                <td>
                    <p>Job_num</p>
                </td>
                <td>
                    <p>dValue</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>100</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>150</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1001</p>
                </td>
                <td>
                    <p>200</p>
                </td>
            </tr>
            <tr>
                <td>
                    <p>100</p>
                </td>
                <td>
                    <p>1002</p>
                </td>
                <td>
                    <p>250</p>
                </td>
            </tr>
        </table>
        <p>&#160;</p>
        <p>There is also a short version with default options.</p>
        <p>Method('syuds.union','cost,rev','kco,job_num,dCosts,dRev','CostRev');</p>
        <p>ttCost and ttRev would be combined with fields kco,job_num,dCosts,dRev in to dataset CostRev. This is equivalent to the first example above.</p>
    </body>
</html>