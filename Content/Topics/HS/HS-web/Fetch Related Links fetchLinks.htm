<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-gb" MadCap:lastBlockDepth="4" MadCap:lastHeight="4154" MadCap:lastWidth="1475" MadCap:onlyLocalStylesheets="False">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/OnlineHelp.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Fetch Related Links (fetchLinks)</h1>
        <p>&#160;</p>
        <p>The fetchLinks method allows you to retrieve all the related links for a person in <MadCap:variable name="General.ProductName" />.&#160;&#160; This can optionally return the following information:</p>
        <ul>
            <li>The reference to any entry in the prospect’s workbench they have.&#160; This will include the <MadCap:variable name="General.ProductName" /> company and prospect reference. </li>
            <li>Any plots they have reserved.&#160; This will include the <MadCap:variable name="General.ProductName" /> company, contract and plot number.</li>
        </ul>
        <p>&#160;</p>
        <p>A sample XML message to fetch the links for a person in <MadCap:variable name="General.ProductName" /> is shown below:</p>
        <p>&#160;</p>
        <p class="code">&lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;login&gt;</p>
        <p class="code">&lt;user&gt;xxxxxx&lt;/user&gt; </p>
        <p class="code">&lt;password&gt;xxxxxx&lt;/password&gt; </p>
        <p class="code">&lt;CID&gt;1&lt;/CID&gt; </p>
        <p class="code">&lt;/login&gt;</p>
        <p class="code">&lt;call object="hswsppe1" method="fetchLinks" id="0987654321"&gt;</p>
        <p class="code">&lt;Person&gt;</p>
        <p class="code">&lt;Reference&gt;&lt;/Reference &gt; </p>
        <p class="code">&lt;Email&gt;paul.cocks@coins-global.com&lt;/Email&gt; </p>
        <p class="code">&lt;ProspectLinks&gt;YES&lt;/ProspectLinks&gt; </p>
        <p class="code">&lt;PlotLinks&gt;YES&lt;/PlotLinks&gt; </p>
        <p class="code">&lt;/Person&gt;</p>
        <p class="code">&lt;/call&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p class="code">&#160;</p>
        <p>To identify the person you can supply either the person’s unique reference or their email address.&#160; </p>
        <p>This request would return a XML message with the following format:</p>
        <p>&#160;</p>
        <p class="code">&lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;call object="hswsppe1" method="fetchLinks" id="0987654321"&gt;</p>
        <p class="code">&lt;Person&gt;</p>
        <p class="code">&lt;Email&gt;paul.cocks@coins-global.com&lt;/Email&gt; </p>
        <p class="code">&lt;Reference&gt;000219&lt;/Reference&gt; </p>
        <p class="code">&lt;/Person&gt;</p>
        <p class="code">&lt;Plots&gt;</p>
        <p class="code">&lt;Plot&gt;</p>
        <p class="code">&lt;Company&gt;001&lt;/Company&gt; </p>
        <p class="code">&lt;Contract&gt;2000&lt;/Contract&gt; </p>
        <p class="code">&lt;Phase&gt;3&lt;/Phase&gt; </p>
        <p class="code">&lt;Plot&gt;p006&lt;/Plot&gt; </p>
        <p class="code">&lt;AddressLine1&gt;&lt;/AddressLine1&gt; </p>
        <p class="code">&lt;SalesStatus&gt;RE&lt;/SalesStatus&gt; </p>
        <p class="code">&lt;/Plot&gt;</p>
        <p class="code">&lt;Plot&gt;</p>
        <p class="code">&lt;Company&gt;001&lt;/Company&gt; </p>
        <p class="code">&lt;Contract&gt;2000&lt;/Contract&gt; </p>
        <p class="code">&lt;Phase&gt;5&lt;/Phase&gt; </p>
        <p class="code">&lt;Plot&gt;006&lt;/Plot&gt; </p>
        <p class="code">&lt;AddressLine1&gt;&lt;/AddressLine1&gt; </p>
        <p class="code">&lt;SalesStatus&gt;RE&lt;/SalesStatus&gt; </p>
        <p class="code">&lt;/Plot&gt;</p>
        <p class="code">&lt;/Plots&gt;</p>
        <p class="code">&lt;Prospects&gt;</p>
        <p class="code">&lt;Prospect&gt;</p>
        <p class="code">&lt;Company&gt;001&lt;/Company&gt; </p>
        <p class="code">&lt;Reference&gt;000282&lt;/Reference&gt; </p>
        <p class="code">&lt;/Prospect&gt;</p>
        <p class="code">&lt;/Prospects&gt;</p>
        <p class="code">&lt;returnvalue&gt;&lt;/returnvalue&gt; </p>
        <p class="code">&lt;/call&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p>&#160;</p>
        <p>For a plot this returns the company, contract, phase and plot which are the unique identifiers for a plot in <MadCap:variable name="General.ProductName" />.&#160; For a prospect the company number and prospect reference are returned which again are the unique identifiers for a prospect in <MadCap:variable name="General.ProductName" />.&#160; Note the prospect reference is not the same as the person reference.</p>
        <p>&#160;</p>
        <p>If the person could not be found then the following message will be returned:</p>
        <p>&#160;</p>
        <p class="code">&lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;env:Fault&gt;</p>
        <p class="code">&lt;env:Code&gt;</p>
        <p class="code">&lt;env:Value&gt;env:Sender&lt;/env:Value&gt; </p>
        <p class="code">&lt;/env:Code&gt;</p>
        <p class="code">&lt;env:Reason&gt;</p>
        <p class="code">&lt;env:Text&gt;Person does not exist (Email xpaul.cocks@coins-global.com) [SY885]&lt;/env:Text&gt; </p>
        <p class="code">&lt;/env:Reason&gt;</p>
        <p class="code">&lt;/env:Fault&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p>&#160;</p>
    </body>
</html>