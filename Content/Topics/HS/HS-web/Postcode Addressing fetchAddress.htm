<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:lang="en-gb" MadCap:lastBlockDepth="2" MadCap:lastHeight="3230" MadCap:lastWidth="1178" MadCap:onlyLocalStylesheets="False">
    <head><title></title>
        <link href="../../../Resources/Stylesheets/OnlineHelp.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Postcode Addressing (fetchAddress)</h1>
        <h2>&#160;</h2>
        <p>If you have the postcode addressing software installed you can access the postcode database via a SOAP request.&#160; A sample XML message to fetch the possible addresses for a specified post code and delivery point is shown below:</p>
        <p>&#160;</p>
        <p class="code">&lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;login&gt;</p>
        <p class="code">&lt;user&gt;xxxxxx&lt;/user&gt; </p>
        <p class="code">&lt;password&gt;xxxxxx&lt;/password&gt; </p>
        <p class="code">&lt;CID&gt;1&lt;/CID&gt; </p>
        <p class="code">&lt;/login&gt;</p>
        <p class="code">&lt;call object="hswsppe1" method="fetchAddress" id="0987654321"&gt;</p>
        <p class="code">&lt;Address&gt;</p>
        <p class="code">&lt;PostCode&gt;B73 5BW&lt;/PostCode&gt; </p>
        <p class="code">&lt;DeliveryPoint&gt;10&lt;/DeliveryPoint&gt; </p>
        <p class="code">&lt;/Address&gt;</p>
        <p class="code">&lt;/call&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p>&#160;</p>
        <p>This would return a XML message with the following format:</p>
        <p>&#160;</p>
        <p class="code">&lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;call object="hswsppe1" method="fetchAddress" id="0987654321"&gt;</p>
        <p class="code">&lt;Address&gt;</p>
        <p class="code">&lt;AddressLine1&gt;10 Chester Road&lt;/AddressLine1&gt; </p>
        <p class="code">&lt;AddressLine2&gt;SUTTON COLDFIELD&lt;/AddressLine2&gt; </p>
        <p class="code">&lt;AddressLine3&gt;&lt;/AddressLine3&gt; </p>
        <p class="code">&lt;AddressLine4&gt;&lt;/AddressLine4&gt; </p>
        <p class="code">&lt;PostCode&gt;B73 5BW&lt;/PostCode&gt; </p>
        <p class="code">&lt;/Address&gt;</p>
        <p class="code">&lt;Address&gt;</p>
        <p class="code">&lt;AddressLine1&gt;10 Glovers Trust Homes&lt;/AddressLine1&gt; </p>
        <p class="code">&lt;AddressLine2&gt;Chester Road&lt;/AddressLine2&gt; </p>
        <p class="code">&lt;AddressLine3&gt;SUTTON COLDFIELD&lt;/AddressLine3&gt; </p>
        <p class="code">&lt;AddressLine4&gt;&lt;/AddressLine4&gt; </p>
        <p class="code">&lt;PostCode&gt;B73 5BW&lt;/PostCode&gt; </p>
        <p class="code">&lt;/Address&gt;</p>
        <p class="code">&lt;returnvalue&gt;&lt;/returnvalue&gt; </p>
        <p class="code">&lt;/call&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p>&#160;</p>
        <p>Note there are a number of post codes in the UK with more than one possible address, as in the above example.</p>
        <p>&#160;</p>
        <p>If no matching addresses could be found then the following message will be returned:</p>
        <p>&#160;</p>
        <p class="code"> &lt;?xml version="1.0" encoding="utf-8" ?&gt; </p>
        <p class="code">&lt;env:Envelope xmlns:env="http://www.w3.org/2003/05/soap-envelope"&gt;</p>
        <p class="code">&lt;env:Body&gt;</p>
        <p class="code">&lt;env:Fault&gt;</p>
        <p class="code">&lt;env:Code&gt;</p>
        <p class="code">&lt;env:Value&gt;env:Sender&lt;/env:Value&gt; </p>
        <p class="code">&lt;/env:Code&gt;</p>
        <p class="code">&lt;env:Reason&gt;</p>
        <p class="code">&lt;env:Text&gt;Address does not exist (B73 5BWx) [SY885]&lt;/env:Text&gt; </p>
        <p class="code">&lt;/env:Reason&gt;</p>
        <p class="code">&lt;/env:Fault&gt;</p>
        <p class="code">&lt;/env:Body&gt;</p>
        <p class="code">&lt;/env:Envelope&gt;</p>
        <p>&#160;</p>
        <p>&#160;</p>
    </body>
</html>