<?xml version="1.0" encoding="utf-8"?>
<html lang="en" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:lastBlockDepth="7" MadCap:lastHeight="4534" MadCap:lastWidth="832">
    <head><title>User Defined Browse Screens</title>
    </head>
    <body>
        <MadCap:concept term="Topics" />
        <h1 class="print">User Defined Browse Screens</h1>
You can create your own browse tabs in the <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span> using the pp_events table with your own user-defined type.

    <div class="process"><h2 class="print">To set up a browse tab:</h2><p>The easiest way to set up your own browse tab is to copy the function for the Grievances tab (%WHRBPQE1), change the value of ppe_type to your own type, and then copy the page for %WHRBPQE1 and change the fields/labels to what you want. In the example below, we will go through the steps to add your own 'Contract History' tab to the 'Events' set of tabs in <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span>.</p><ol><ol><li>Create the function.</li><ol><li>Go to System &gt; System Setup &gt; <span class="function" title="Function:%WSYBMSF">Function Maintenance</span>.</li><li>Copy the %WHRBPQE1 function.</li><li>Set your own function name and ppe_type in the <span class="field">Parameters</span> field.<p><img src="../../Resources/Images_G-I/HR/HR_510101.gif" /></p></li></ol><li>Create a tab function for your new page.
<p>&#160;
To create a function for the new tab in <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span> on which to place your new page:</p></li><ol><li>Copy the function you created in step 1.</li><li>Give it a new name.</li><li>Blank out the <span class="field">Program</span> and <span class="field">Parameters</span> fields.<p><img src="../../Resources/Images_G-I/HR/HR_510102.gif" /></p></li></ol><li>Create your basic page.</li><ol><li>Go to System &gt; System Setup &gt; <span class="function" title="Function:%WSYBSTN">Page Designer</span>.</li><li>Copy the %WHRBPQE1 page.</li><li>Change the page name to be the same as that of the function you created in step 1.&#160;</li><li>Click save (the Body Query should be left as it is).</li><li>Set up the Forms and Fields to use as required, removing/altering the “Grievances” fields which have been copied across.
<p>
In this example, we will leave the copied Forms (see screenshot below) as they are. The Body form is for the column fields on the browse and the Body Detail and Body Update forms (which can share a set of field definitions as specified by the <span class="field">Field Type </span>column - see screenshot below) cover the fields you see when clicking on the detail and update buttons respectively for a row.</p><p><img src="../../Resources/Images_G-I/HR/HR_510103.gif" /></p><p>On the Fields tab select in turn each of the <span class="field">Field Type</span> forms you are using and put in the fields you want. In this example, the Body form will have a date field (ppe_date) to hold the date that a person started on a contract and a character field (ppe_njobcat) to record the contract (see screenshot below). On the Body Update form, we will have a notes character field (ppe_notes). A list of available fields can be found by clicking on the body table pp_events link at the top of the screen. You can only use fields marked as DB (that is, that are actually stored on the pp_events record in the database).</p><p><img src="../../Resources/Images_G-I/HR/HR_510104.gif" /></p></li></ol><li>Add the new page to <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span>.<p>To add your page to <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span> go to HR &gt; HR Maintenance &gt; <span class="function" title="Function:%WHRBSYP">HR Parameters</span> and in the <span class="parameter">UDTABS </span>parameter, specify your browse function, tab function and the tab group you want your new screen to appear on in <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span>. The appropriate tab group function name can be found by looking at the <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span> page function (%WHRSPOR) in <span class="function" title="Function:%WSYBSTN">Page Designer</span>. The format for the <span class="parameter">UDTABS </span>parameter is:</p><p>&lt;browse func 1&gt;|&lt;tab func 1&gt;/&lt;tab group 1&gt;,&lt;browse func 2&gt;|&lt;tab func 2&gt;/&lt;tab group 2&gt;,…</p><p>which in our example is “UDCONHIST|UDHRTAB1/%WHRSPORTGRP4”. The new tab will now appear in <span class="function" title="Function:%WHRBPOR">Personnel Workbench</span>:</p><p><img src="../../Resources/Images_G-I/HR/HR_510106.gif" /></p></li><li>Adding buttons to your new page.
<p>The screen shown above is not very useful as it does not have many buttons available so you cannot create a new record. To add buttons:</p></li><ol><li>Return to System &gt; System Setup &gt; <span class="function" title="Function:%WSYBMSF">Function Maintenance</span></li><li>Create functions with names of the form '&lt;your new page function name&gt;&lt;button letter&gt;' where the &lt;button letter&gt; is one of:<p>A - for add and copy buttons;<br />B - for the 'Bulk' <MadCap:variable name="Variables.tick" />box;<br />D - for the delete button;<br />U - for the update button;<br />X - for the export to Excel button.</p></li><li>Leave the <span class="field">Program</span> and <span class="field">Parameters</span> fields blank. For our example, we will add all the above buttons.<p><img src="../../Resources/Images_G-I/HR/HR_510107.gif" /></p><p>This makes the new tab ready for use:</p><p><img src="../../Resources/Images_G-I/HR/HR_510108.gif" /></p></li></ol></ol></ol><ol><ol>You can then alter the fields shown using <span class="function" title="Function:%WSYBSTN">Page Designer</span> to get the screen looking how you want it to.</ol></ol><p>&#160;</p></div><div class="configuration"><h2 class="print">Table use</h2><p>The following restrictions apply to the use of the pp_events table for your own purposes: </p><ul><li>The ppe_type field must begin with ?UD? (user defined) and the ppe_type variable must be included in the function definition (see %WHRBPQE1 for an existing example). </li><li>The ppo_seq field must link to a person record (pp_organisation). </li><li>Prior to v10.11 your browse should include the ppe_date field. This is because the unique key for the database records is ppe_type, ppo_seq and ppe_date. This restriction has been removed from v10.11 onwards, when a new sequence number field (pqe_seq) was added to the unique key for the pp_events table (the value of this will get set for you in the code so it should not be included in your browse).</li></ul></div></body>
</html>